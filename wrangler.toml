name = "rubeus"
compatibility_date = "2024-12-05"
main = "src/index.ts"
compatibility_flags = [ "nodejs_compat" ]

[durable_objects]
bindings = [
  { name = "API_RATE_LIMITER", class_name = "APIRateLimiter" },
  { name = "ATOMIC_COUNTER", class_name = "AtomicCounter" },
  { name = "CIRCUIT_BREAKER", class_name = "CircuitBreaker" },
]

[[kv_namespaces]]
binding = "KV_STORE"
id = "your-namespace-id"

[vars]
ENVIRONMENT = 'dev'
CUSTOM_HEADERS_TO_IGNORE = []
ALBUS_BASEPATH = "https://albus.portkey.ai" # TODO: do we need this?

#
#Configuration for DEVELOPMENT environment
#
[env.staging]
name = "rubeus-dev"

[env.staging.vars]
ENVIRONMENT = 'staging'
CUSTOM_HEADERS_TO_IGNORE = []


#
#Configuration for PRODUCTION environment
#
[env.production]
name = "rubeus"
logpush=true

[env.production.vars]
ENVIRONMENT = 'production'
CUSTOM_HEADERS_TO_IGNORE = []
